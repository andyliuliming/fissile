# This role manifest tests that an undeclared variable is an error
---
instance_groups:
- name: myrole
  run:
    foo: x
  jobs:
  - name: tor
    release: tor
configuration:
  templates:
    properties.tor.ca: '((cacert)) ((cacert_KEY))'
    properties.tor.ssh: '((BAR))((BAR_FINGERPRINT))'
    properties.tor.certificate: '((FOO))((FOO_KEY))'
variables:
- name: BAR
  type: ssh
  options:
    secret: true
- name: FOO
  type: certificate
  options:
    secret: true
- name: cacert
  type: certificate
  options:
    is_ca: true
    secret: true
